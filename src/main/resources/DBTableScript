CREATE TABLE Users(
id serial PRIMARY KEY,
firstName varchar(50),
lastName varchar(50),
userName varchar(50) UNIQUE NOT null,
email varchar(50) UNIQUE NOT null,
profilePic varchar(200),
"password" varchar (50) NOT NULL
);

CREATE TABLE Posts(
id serial PRIMARY KEY,
message varchar(150) NOT NULL,
attachedPicture varchar(200),
submitted timestamp DEFAULT now(),
likes int DEFAULT 0,
author int REFERENCES Users(id) ON DELETE CASCADE ON UPDATE CASCADE,
originalPostId int NULL REFERENCES Posts(id) ON DELETE CASCADE ON UPDATE CASCADE,
commentedOn timestamp
);

CREATE TABLE UserPost(
userId int REFERENCES Users(id) ON DELETE CASCADE ON UPDATE CASCADE,
postId int REFERENCES Posts(id) ON DELETE CASCADE ON UPDATE CASCADE,
PRIMARY KEY(userId, postId)
);


DROP TABLE userpost;
DROP TABLE posts;
DROP TABLE users;